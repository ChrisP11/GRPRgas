{% extends 'base.html' %}

{% block title %}Rounds Leaderboard{% endblock %}

{% block content %}
<!-- Leader cards ---------------------------------------------------->
{% if leaders %}
<div class="row g-3
    row-cols-2
    row-cols-sm-3 
    row-cols-lg-5 mb-4">
    <!-- Best Gross (Member) ----------------------------------------->
    {% if leaders.gross_member %}
    <div class="col">
    <div class="card shadow-sm h-100 text-white bg-info">
        <div class="card-body p-2 text-center">
            <h6 class="card-title mb-1 small">Best Gross (Member)</h6>
            <h4 class="fw-bold mb-1">{{ leaders.gross_member.score }}</h4>
            <p class="mb-0">{{ leaders.gross_member.name }}</p>
        </div>
    </div>
    </div>
    {% endif %}

  <!-- Best Gross --------------------------------------------------->
  {% if leaders.gross %}
  <div class="col">
    <div class="card shadow-sm h-100 text-white bg-success">
        <div class="card-body p-2 text-center">    <!-- p-2 = 0.5 rem all around -->
            <h6 class="card-title mb-1 small">Best Gross</h6>
            <h4 class="fw-bold mb-1">{{ leaders.gross.score }}</h4>  <!-- h4 instead of h3 -->
            <p class="mb-0">{{ leaders.gross.name }}</p>
        </div>
    </div>
  </div>
  {% endif %}

  <!-- Best Net ------------------------------------------------------>
  {% if leaders.net %}
  <div class="col">
    <div class="card shadow-sm h-100 text-white bg-primary">
        <div class="card-body p-2 text-center">
            <h6 class="card-title mb-1 small">Best Net</h6>
            <h4 class="fw-bold mb-1">{{ leaders.net.score }}</h4>
            <p class="mb-0">{{ leaders.net.name }}</p>
      </div>
    </div>
  </div>
  {% endif %}

  <!-- Most Skins ---------------------------------------------------->
  {% if leaders.skins %}
  <div class="col">
    <div class="card shadow-sm h-100 text-white bg-warning">
        <div class="card-body p-2 text-center">
            <h6 class="card-title mb-1 small">Most Skins</h6>
            <h4 class="fw-bold mb-1">{{ leaders.skins.count }}</h4>
            <p class="mb-0">{{ leaders.skins.name }}</p>
      </div>
    </div>
  </div>
  {% endif %}

    <!-- Best Attendance --------------------------------------------->
    {% if leaders.attendance %}
    <div class="col">
    <div class="card shadow-sm h-100 text-white bg-secondary">
        <div class="card-body p-2 text-center">
            <h6 class="card-title mb-1 small">Best Attendance 2025</h6>
            <h4 class="fw-bold mb-1">{{ leaders.attendance.count }}</h4>
            <p class="mb-0">{{ leaders.attendance.name }}</p>
        </div>
    </div>
    </div>
    {% endif %}

    <!-- Most Skins – One Round -------------------------------------->
{% if leaders.skins_one %}
<div class="col">
  <div class="card shadow-sm h-100 text-white bg-danger">
    <div class="card-body p-2 text-center">
      <h6 class="card-title mb-1 small">Most Skins (1 Round)</h6>
      <h4 class="fw-bold mb-1">{{ leaders.skins_one.count }}</h4>
      <p class="mb-0">{{ leaders.skins_one.name }}</p>
    </div>
  </div>
</div>
{% endif %}

<!-- Forty Holes – Season ---------------------------------------->
{% if leaders.forty_season %}
<div class="col">
  <div class="card shadow-sm h-100 text-white bg-dark">
    <div class="card-body p-2 text-center">
      <h6 class="card-title mb-1 small">Most Forty Holes (2025)</h6>
      <h4 class="fw-bold mb-1">{{ leaders.forty_season.count }}</h4>
      <p class="mb-0">{{ leaders.forty_season.name }}</p>
    </div>
  </div>
</div>
{% endif %}

<!-- Forty Holes – One Round ------------------------------------->
{% if leaders.forty_one %}
<div class="col">
  <div class="card shadow-sm h-100 text-white bg-light">
    <div class="card-body p-2 text-center">
      <h6 class="card-title mb-1 small text-dark">Most Forty Holes (1 Round)</h6>
      <h4 class="fw-bold mb-1 text-dark">{{ leaders.forty_one.count }}</h4>
      <p class="mb-0 text-dark">{{ leaders.forty_one.name }}</p>
    </div>
  </div>
</div>
{% endif %}

<!-- Best Trader --------------------------------------------------->
{% if leaders.trader %}
<div class="col">
  <div class="card shadow-sm h-100 text-white bg-dark">
    <div class="card-body p-2 text-center">
      <h6 class="card-title mb-1 small">Best Trader 2025</h6>
      <h4 class="fw-bold mb-1">{{ leaders.trader.count }}</h4> 
      <p class="mb-0">{{ leaders.trader.name }}</p>
    </div>
  </div>
</div>
{% endif %}

<!-- Quickest Draw ----------------------------------------------->
{% if leaders.quick_draw %}
<div class="col">
  <div class="card shadow-sm h-100 text-white bg-dark">
    <div class="card-body p-2 text-center">
      <h6 class="card-title mb-1 small">Quickest Draw 2025</h6>
      <h4 class="fw-bold mb-1">{{ leaders.quick_draw.count }}</h4>
      <p class="mb-0">{{ leaders.quick_draw.name }}</p>
    </div>
  </div>
</div>
{% endif %}

</div>
{% endif %}


<div class="container my-4">
    <h2>Top 10 Rounds - Gross</h2>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Player</th>
                <th>Date</th>
                <th>Tee</th>
                <th>Index</th>
                <th>HDCP</th>
                <th>Adj Net</th>
                <th>Gross</th>
            </tr>
        </thead>
        <tbody>
            {% for row in top10_gross %}
            <tr>
                <td>{{ row.LastName }}</td>
                <td>{{ row.PlayDate }}</td>
                <td>{{ row.TeeName }}</td>
                <td>{{ row.Index }}</td>
                <td>{{ row.HDCP }}</td>
                <td>{{ row.AdjNet }}</td>
                <td>{{ row.Gross }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <br>

    <h2>Top 10 Rounds - Net</h2>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Player</th>
                <th>Date</th>
                <th>Tee</th>
                <th>Index</th>
                <th>HDCP</th>
                <th>Gross</th>
                <th>Adj Net</th>
            </tr>
        </thead>
        <tbody>
            {% for row in top10_net %}
            <tr>
                <td>{{ row.LastName }}</td>
                <td>{{ row.PlayDate }}</td>
                <td>{{ row.TeeName }}</td>
                <td>{{ row.Index }}</td>
                <td>{{ row.HDCP }}</td>
                <td>{{ row.Gross }}</td>
                <td>{{ row.AdjNet }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <br>

    <h2 class="mt-5">Skins Leaderboard</h2>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Player</th>
                <th>Total Skins</th>
            </tr>
        </thead>
        <tbody>
            {% for row in most_skins %}
            <tr>
                <td>{{ row.LastName }}</td>
                <td>{{ row.total_skins }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}