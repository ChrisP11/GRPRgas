{% extends "base.html" %}
{% block title %}Rounds Leaderboard{% endblock %}

{% block content %}
<!-- ======================= Leader Cards ====================== -->
<div class="row g-3 row-cols-2 row-cols-sm-3 row-cols-lg-5 mb-4">

  <!-- Best Gross -->
  <!-- <div class="col">
    <a href="?stat=gross" class="text-decoration-none">
      <div class="card shadow-sm h-100 bg-primary text-white {% if chosen == 'gross' %}border-3 border-light{% endif %}">
        <div class="card-body p-2 text-center">
          <h6 class="mb-1 small">Best Gross</h6>
          <h4 class="fw-bold mb-1">{{ leaders.gross.score }}</h4>
          <p class="mb-0">{{ leaders.gross.name }}</p>
        </div>
      </div>
    </a>
  </div> -->

   <!-- Best Gross (Member) -->
  <div class="col">
    <a href="?stat=gross_member" class="text-decoration-none">
      <div class="card shadow-sm h-100 bg-success text-light {% if chosen == 'gross_member' %}border-3 border-light{% endif %}">
        <div class="card-body p-2 text-center">
          <h6 class="mb-1 small">The Gas Man (Best Gross)</h6>
          <h4 class="fw-bold mb-1">{{ leaders.gross_member.value }}</h4>
          <p class="mb-0">{{ leaders.gross_member.name }}</p>
        </div>
      </div>
    </a>
  </div>

  <!-- Best Net -->
  <div class="col">
    <a href="?stat=net" class="text-decoration-none">
      <div class="card shadow-sm h-100 bg-light text-dark {% if chosen == 'net' %}border-3 border-light{% endif %}">
        <div class="card-body p-2 text-center">
          <h6 class="mb-1 small">Happy Gilmore (Best Net)</h6>
          <h4 class="fw-bold mb-1">{{ leaders.net.value }}</h4>
          <p class="mb-0">{{ leaders.net.name }}</p>
        </div>
      </div>
    </a>
  </div>

  <!-- Most Skins -->
  <div class="col">
    <a href="?stat=skins" class="text-decoration-none">
      <div class="card shadow-sm h-100 bg-warning text-dark {% if chosen == 'skins' %}border-3 border-light{% endif %}">
        <div class="card-body p-2 text-center">
          <h6 class="mb-1 small">Sandiest Bagger (Most Skins, Szn)</h6>
          <h4 class="fw-bold mb-1">{{ leaders.skins.value }}</h4>
          <p class="mb-0">{{ leaders.skins.name }}</p>
        </div>
      </div>
    </a>
  </div>

    <!-- Skins 1 Round -->
  <div class="col">
    <a href="?stat=skins_one" class="text-decoration-none">
      <div class="card shadow-sm h-100 bg-danger text-white {% if chosen == 'skins_one' %}border-3 border-light{% endif %}">
        <div class="card-body p-2 text-center">
          <h6 class="mb-1 small">Baggiest Sander (Most Skins, Rnd)</h6>
          <h4 class="fw-bold mb-1">{{ leaders.skins_one.value }}</h4>
          <p class="mb-0">{{ leaders.skins_one.name }}</p>
        </div>
      </div>
    </a>
  </div>

  <!-- Best Attendance -->
  <div class="col">
    <a href="?stat=attendance" class="text-decoration-none">
      <div class="card shadow-sm h-100 bg-secondary text-white {% if chosen == 'attendance' %}border-3 border-light{% endif %}">
        <div class="card-body p-2 text-center">
          <h6 class="mb-1 small">Mr. ROI (Most Rounds)</h6>
          <h4 class="fw-bold mb-1">{{ leaders.attendance.value }}</h4>
          <p class="mb-0">{{ leaders.attendance.name }}</p>
        </div>
      </div>
    </a>
  </div>

  <!-- Forty Holes (Season) -->
  <div class="col">
    <a href="?stat=forty_season" class="text-decoration-none">
      <div class="card shadow-sm h-100 bg-dark text-white {% if chosen == 'forty_season' %}border-3 border-light{% endif %}">
        <div class="card-body p-2 text-center">
          <h6 class="mb-1 small">MVP (Most Forty Scores, Szn)</h6>
          <h4 class="fw-bold mb-1">{{ leaders.forty_season.value }}</h4>
          <p class="mb-0">{{ leaders.forty_season.name }}</p>
        </div>
      </div>
    </a>
  </div>

  <!-- Forty 1 Round -->
  <div class="col">
    <a href="?stat=forty_one" class="text-decoration-none">
      <div class="card shadow-sm h-100 bg-primary text-white {% if chosen == 'forty_one' %}border-3 border-light{% endif %}">
        <div class="card-body p-2 text-center">
          <h6 class="mb-1 small">Pour One Out! (Best Forty Rnd)</h6>
          <h4 class="fw-bold mb-1">{{ leaders.forty_one.value }}</h4>
          <p class="mb-0">{{ leaders.forty_one.name }}</p>
        </div>
      </div>
    </a>
  </div>

  <!-- Best Trader -->
  <div class="col">
    <a href="?stat=trader" class="text-decoration-none">
      <div class="card shadow-sm h-100 bg-success text-white {% if chosen == 'trader' %}border-3 border-light{% endif %}">
        <div class="card-body p-2 text-center">
          <h6 class="mb-1 small">Billy Ray (Most Swaps)</h6>
          <h4 class="fw-bold mb-1">{{ leaders.trader.value }}</h4>
          <p class="mb-0">{{ leaders.trader.name }}</p>
        </div>
      </div>
    </a>
  </div>

  <!-- Quickest Draw -->
  <div class="col">
    <a href="?stat=quick_draw" class="text-decoration-none">
      <div class="card shadow-sm h-100 bg-info text-dark {% if chosen == 'quick_draw' %}border-3 border-light{% endif %}">
        <div class="card-body p-2 text-center">
          <h6 class="mb-1 small">Dirty Harry (Most Subs)</h6>
          <h4 class="fw-bold mb-1">{{ leaders.quick_draw.value }}</h4>
          <p class="mb-0">{{ leaders.quick_draw.name }}</p>
        </div>
      </div>
    </a>
  </div>

<!-- Best Friends -->
<div class="col">
  <a href="?stat=friends" class="text-decoration-none">
    <div class="card shadow-sm h-100 bg-warning text-dark {% if chosen == 'friends' %}border-3 border-light{% endif %}">
      <div class="card-body p-2 text-center">
        <h6 class="mb-1 small">Bosom Buddies</h6>
        <h4 class="fw-bold mb-1">{{ leaders.friends.value }}</h4>
        <p class="mb-0">{{ leaders.friends.name }}</p>
      </div>
    </div>
  </a>
</div>

</div>

<!-- ======================= Top-10 Table ====================== -->
<table class="table table-sm table-bordered w-auto mx-auto">
  <thead class="table-light text-center">
    <tr>
      <th colspan="{% if topten and topten.0.date %}4{% else %}3{% endif %}">
        {{ label }}
      </th>
    </tr>
    <tr>
      <th>#</th>
      <th>Golfer / Pair</th>
      <th>Value</th>
      {% if topten and topten.0.date %}
        <th>Date</th>
      {% endif %}
    </tr>
  </thead>
  <tbody>
    {% for row in topten %}
      <tr>
        <td>{{ forloop.counter }}</td>
        <td>{{ row.name }}</td>
        <td>{{ row.value }}</td>
        {% if row.date %}
          <td>{{ row.date|date:"Y-m-d" }}</td>
        {% endif %}
      </tr>
    {% empty %}
      <tr><td colspan="4" class="text-center">No data yet.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}